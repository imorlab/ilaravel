document.addEventListener("livewire:initialized",()=>{Livewire.on("swal:success",t=>{Swal.fire({position:t[0].position||"top-end",icon:"success",title:t[0].title,text:t[0].text,showConfirmButton:t[0].showConfirmButton??!1,timer:t[0].timer||3e3})}),Livewire.on("swal:error",t=>{Swal.fire({position:t[0].position||"top-end",icon:"error",title:t[0].title,text:t[0].text,showConfirmButton:t[0].showConfirmButton??!1,timer:t[0].timer||3e3})}),Livewire.on("swal:confirm",t=>{let e={title:t[0].title,text:t[0].text,icon:t[0].icon||"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:t[0].confirmButtonText||"Sí",cancelButtonText:t[0].cancelButtonText||"No"};t[0].text&&t[0].text.includes("emails")&&(e.input="text",e.inputPlaceholder="ejemplo@email.com, otro@email.com",e.inputValidator=t=>{if(!t)return"Debes introducir al menos un email";const e=t.split(",").map(t=>t.trim()).filter(t=>!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t));return e.length>0?"Los siguientes emails no son válidos: "+e.join(", "):null}),Swal.fire(e).then(e=>{if(e.isConfirmed&&t[0].next)if("redirect"===t[0].next.event)window.location.href=t[0].next.params.url;else{const i=document.querySelector("[wire\\:id]");if(i){const n=Livewire.find(i.getAttribute("wire:id"));n&&(n.set("emailsToSend",e.value),n.call(t[0].next.event))}}})})});
